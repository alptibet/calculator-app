{"mappings":"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","sources":["src/js/model.js","src/js/Views/viewRenderTheme.js","src/js/Views/viewDisplay.js","src/js/controller.js","src/js/Views/viewSetTheme.js","src/js/Views/viewInitialThemeSelect.js","src/js/Views/viewAddHandlerOperand.js","src/js/Views/viewAddHandlerOperation.js","src/js/Views/viewDelete.js","src/js/Views/viewReset.js"],"sourcesContent":["export const state = {\n  displayValue: '0',\n  firstOperand: null,\n  waitingForSecondOperand: false,\n  operator: null,\n};\n\nexport const setInitialTheme = function () {\n  if (localStorage.getItem('theme')) initialTheme = localStorage.getItem('theme');\n  if (!localStorage.getItem('theme')) initialTheme = 1;\n  return initialTheme;\n};\n\nexport const setTheme = function (theme) {\n  localStorage.setItem('theme', theme);\n};\n\nexport const setOperand = function (operand) {\n  const { displayValue, waitingForSecondOperand } = state;\n  if (waitingForSecondOperand === true) {\n    state.displayValue = operand;\n    state.waitingForSecondOperand = false;\n  } else {\n    state.displayValue = displayValue === '0' ? operand : displayValue + operand;\n  }\n};\n\nexport const deleteOperand = function (operand) {\n  state.displayValue = operand;\n};\n\nexport const setOperator = function (operation) {\n  const { firstOperand, displayValue, operator } = state;\n  const inputValue = displayValue;\n\n  if (operator && state.waitingForSecondOperand) {\n    state.operator = operation;\n    return;\n  }\n\n  if (firstOperand === null && !isNaN(inputValue)) {\n    state.firstOperand = parseFloat(inputValue);\n  } else if (operator) {\n    const calculation = calculate(firstOperand, inputValue, operator);\n    if (!isFinite(calculation)) {\n      resetCalculator();\n      return;\n    }\n    state.displayValue = parseFloat(calculation);\n    state.firstOperand = calculation;\n  }\n\n  state.waitingForSecondOperand = true;\n  state.operator = operation;\n};\n\nconst calculate = function (firstOperand, secondOperand, operator) {\n  if (operator === 'plus') {\n    return parseFloat(firstOperand) + parseFloat(secondOperand);\n  } else if (operator === 'minus') {\n    return parseFloat(firstOperand) - parseFloat(secondOperand);\n  } else if (operator === 'times') {\n    return parseFloat(firstOperand) * parseFloat(secondOperand);\n  } else if (operator === 'divide') {\n    return parseFloat(firstOperand) / parseFloat(secondOperand);\n  }\n  return secondOperand;\n};\n\nexport const resetCalculator = function () {\n  state.displayValue = '0';\n  state.waitingForSecondOperand = false;\n  state.operator = null;\n  state.firstOperand = null;\n};\n","export const renderTheme = function (theme) {\n  const body = document.querySelector('body');\n  const children = body.querySelectorAll('*');\n  const themeSelector = document.querySelectorAll('.theme-selector__toggle input');\n  themeSelector.forEach(function (item) {\n    if (item.dataset.theme === theme) {\n      item.checked = true;\n    }\n  });\n\n  const allItems = [body, ...children];\n  allItems.forEach(function (item) {\n    item.classList.remove('theme1', 'theme2', 'theme3');\n    item.classList.toggle(`theme${theme}`);\n  });\n};\n","export const updateDisplay = function (displayValue) {\n  const display = document.querySelector('.screen__result');\n  display.textContent = displayValue;\n};\n","import * as model from './model';\nimport * as viewSetTheme from './Views/viewSetTheme';\nimport * as viewInitialThemeSelect from './Views/viewInitialThemeSelect';\nimport * as viewRenderTheme from './Views/viewRenderTheme';\nimport * as updateDisplay from './Views/viewDisplay';\nimport * as viewAddHandlerOperand from './Views/viewAddHandlerOperand';\nimport * as viewAddHandlerOperation from './Views/viewAddHandlerOperation';\nimport * as viewDelete from './Views/viewDelete';\nimport * as viewReset from './Views/viewReset';\n\nconst controlInitialThemeSelect = function (theme) {\n  const initialTheme = model.setInitialTheme();\n  viewRenderTheme.renderTheme(initialTheme);\n};\n\nconst controlThemeSelect = function (theme) {\n  model.setTheme(theme);\n  viewRenderTheme.renderTheme(theme);\n};\n\nconst controlUpdateDisplay = function () {\n  updateDisplay.updateDisplay(model.state.displayValue);\n};\n\nconst controlOperand = function (operand) {\n  model.setOperand(operand);\n  updateDisplay.updateDisplay(model.state.displayValue);\n};\n\nconst controlOperation = function (operator) {\n  model.setOperator(operator);\n  updateDisplay.updateDisplay(model.state.displayValue);\n};\n\nconst controlDelete = function (operand) {\n  model.deleteOperand(operand);\n  updateDisplay.updateDisplay(model.state.displayValue);\n};\n\nconst controlReset = function () {\n  model.resetCalculator();\n  updateDisplay.updateDisplay(model.state.displayValue);\n};\n\nconst init = function () {\n  viewInitialThemeSelect.initialThemeSelect(controlInitialThemeSelect);\n  viewSetTheme.addHandlerThemeSelect(controlThemeSelect);\n  controlUpdateDisplay();\n  viewAddHandlerOperand.handlerNums(controlOperand);\n  viewAddHandlerOperation.handlerOperation(controlOperation);\n  viewDelete.addHandlerDelete(controlDelete);\n  viewReset.addHandlerReset(controlReset);\n};\ninit();\n","export const addHandlerThemeSelect = function (handler) {\n  const selector = document.querySelector('.theme-selector__toggle');\n  selector.addEventListener('click', function (e) {\n    if (e.target.type !== 'radio') return;\n    handler(e.target.dataset.theme);\n  });\n};\n","export const initialThemeSelect = function (handler) {\n  const themeSelector = document.querySelectorAll('.theme-selector__toggle input');\n  handler(themeSelector);\n};\n","export const handlerNums = function (handler) {\n  const numpad = document.querySelector('.numpad');\n  numpad.addEventListener('click', function (event) {\n    const { target } = event;\n    if (!target.matches('button')) return;\n\n    if (target.classList.contains('operand')) {\n      handler(target.textContent);\n    }\n  });\n};\n","export const handlerOperation = function (handler) {\n  const numpad = document.querySelector('.numpad');\n  numpad.addEventListener('click', function (event) {\n    const { target } = event;\n    if (!target.matches('button')) return;\n\n    if (target.classList.contains('operator')) {\n      operation = target.classList[0];\n      handler(operation);\n    }\n  });\n};\n","export const addHandlerDelete = function (handler) {\n  const numpad = document.querySelector('.numpad');\n  const displayValue = document.querySelector('.screen__result');\n  numpad.addEventListener('click', function (event) {\n    const { target } = event;\n    if (!target.classList.contains('numpad__del')) return;\n    const newValue = displayValue.textContent;\n    handler(newValue.substring(0, newValue.length - 1));\n  });\n};\n","export const addHandlerReset = function (handler) {\n  const numpad = document.querySelector('.numpad');\n  numpad.addEventListener('click', function (event) {\n    const { target } = event;\n    if (!target.classList.contains('numpad__reset')) return;\n    handler();\n  });\n};\n"],"names":["$432807eba433c837fb46bd3330e112be$export$c837a8b98c265ae3","displayValue","firstOperand","waitingForSecondOperand","operator","$432807eba433c837fb46bd3330e112be$export$4dfc1b83b34a20c9","localStorage","getItem","initialTheme","$432807eba433c837fb46bd3330e112be$var$calculate","secondOperand","parseFloat","$432807eba433c837fb46bd3330e112be$export$5364cb552113e528","$c834ee38b1aa59cd7085abffc5881492$export$62f84727301b6c24","theme","body","document","querySelector","children","querySelectorAll","forEach","item","dataset","checked","classList","remove","toggle","$94b74d223b1c8cbf89946ff7f5426d8d$export$a1be5a244cd5c477","textContent","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlThemeSelect","setItem","$432807eba433c837fb46bd3330e112be$export$4fe6b6a240f01bb0","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlOperand","operand","$432807eba433c837fb46bd3330e112be$export$e99490d7ccd85ea0","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlOperation","operation","inputValue","isNaN","calculation","isFinite","$432807eba433c837fb46bd3330e112be$export$7c6793b71b004d91","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlDelete","$432807eba433c837fb46bd3330e112be$export$9cccdf7d7ac1e7e","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlReset","handler","addEventListener","e","target","type","event","matches","contains","$9566e47bb593976d7cae9062c1b09276$export$a623359788f93c6b","$9a15384cc5b57feffe976f28d899a8d2$export$d40c53dcb5085400","numpad","newValue","substring","length","$c0e44d8d8aa3a1cf3d548870787a1624$export$6d517b0fea9cb60b","$66cb6acda741dabd07a4c7067ee6e7eb$export$5c2191680431be34"],"version":3,"file":"index.df252b26.js.map"}